;
; DS:SI-сжaтые дaнные
;
; ES:DI-рaспaковaнные дaнные
;
md_11:
         xchg    ax,bx
         lodsw
         shr     ax,3
         neg     ax
         xchg    ax,bx

         and     cx,0000000000001111b
         rep     movsb

         shr     al,1
         and     ax,0000011100111000b
         or      al,ah
         add     al,3
         mov     cl,al
in_m_1:
         mov     al,es:[di+bx]
         stosb
         loop    in_m_1
decod:                    ;cx=0
         cld
         lodsw
         dec     si
         mov     cl,al       ;ch=0

         or      al,al
         jz      short end_decode
         js      short md_11

         rep     movsb
         jmp     short decod

end_decode:
